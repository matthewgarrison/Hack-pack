\startsection{Miscellaneous}

\subsection*{Coupon collector's problem}

Suppose there is an urn with n different coupons. What is the probability that more than $t$ sample trials are needed to collect all n coupons? Or, given n coupons, how many coupons do you expect you need to draw with replacement before having drawn each coupon at least once? Alternatively, how many times do you expect to need to roll an $n$-sided die in order to have every number come up at least once?

The answer: $n H_n$, where $n$ is the number of coupons and $H_n$ is the n\textsuperscript{th} Harmonic number.

$$H_n = 1 + \frac{1}{2} + \frac{1}{3} + ... + \frac{1}{n} = \sum_{k=1}^n \frac{1}{k}$$

\subsection*{Digital root formula}

The digital root of a non-negative $n$ is the result of repeatedly summing the digits of $n$. Eg. the digital root of 65,536 is 7 because $dr(65536) = 6+5+5+3+6 = 25$ and $dr(25) = 2+5 = 7$. 

$dr(n) = 1 + ((n-1) \text{ mod } 9)$. To generalize to another base $b$, change $9$ to $b-1$.

\subsection*{Double equality}

10\textsuperscript{-9} is generally a good value for \inline{EPSILON}. Also, most problems involving doubles will tell you how much error two values can have and still be considered equal.

\lstinputlisting{math/code/misc_doubleequal1.java}

\subsection*{Finding the average of two values}

Obviously, you can do it like this: \inline{int c = (a + b) >> 1;}

However, that can lead to overflows. This will not: \inline{int c = a + ((b - a) >> 1);}

Alternatively: \inline{((x $\wedge$ y) >> 1) + (x \& y)}

\subsection*{General}

BigDecimal error of "Non-terminating decimal expansion; no exact representable decimal result": use a MathContext (Tim recommends 
\inline{MathContext.DECIMAL128}).

Integer-valued polynomial: one whose value $P(n)$ is an integer for every integer $n$. A polynomial is integer-valued if $P(n)$ is an integer for every integer $1 \leq n \leq d+1$, where $d$ is the degree of the polynomial. 

Logarithm base change rule: $\displaystyle log_b(x) = \frac{log_c(x)}{log_c(b)}$, where $c$ is any base

Pigeonhole principle: states that if $k$ objects are placed into $n$ boxes, then at least one box must hold at least $\lceil \frac{n}{k} \rceil$ objects.

Stirling's approximation: $\text{ln}(n!) \approx n \text{ln}(n) - n$ or $\displaystyle n! \approx \sqrt{2 \pi n} \Big(\frac{n}{e} \Big)^n$

\subsection*{Horner's method}

Finds $P(x)$. The array of coefficients should be in ascending order. If \inline{P(x) = 5x\textsuperscript{3} - 2x + 1}, then the array should equal \inline{\{1, -2, 0, 5\}}.

\lstinputlisting{math/code/misc_horner1.java}

\subsection*{Pascal's triangle}

\begin{center}
1 \\
1 1 \\
1 2 1 \\
1 3 3 1 \\
1 4 6 4 1 \\
1 5 10 10 5 1
\end{center}

Pascal’s triangle is a triangular array of the binomial coefficients, that is $(x + y)^n$. The rows (designated by $n$) and columns (designated by $k$) are 0-indexed. So 6 is at row 4, column 2. This is also known as \textit{n choose k} or $\binom{n}{k}$.

\lstinputlisting{math/code/misc_pascal1.java}

Given the n\textsuperscript{th} row of Pascal's triangle (in \inline{coefficients}) and values of a and b (from the expression $(ax + by)^{pow}$), this will give you the coefficients of the expanded binomial expression.

\lstinputlisting{math/code/misc_pascal2.java}

\subsection*{Primality}

This is a longer isPrime method, but one that is faster than the “na\"{\i}ve version.

\lstinputlisting{math/code/misc_primality1.java}

\subsection*{Prime factorization}

Runtime: O($n \sqrt{n}$)

Square root method (usually faster for prime factorizing a single number).

\lstinputlisting{math/code/misc_primefact1.java}

Runtime: O($n \text{log}(n)$) to construct the sieve and O($\text{log}(n)$) to find the factors of a single number.

Sieve-based method (usually faster for multiple numbers).

\lstinputlisting{math/code/misc_primefact2.java}

\subsection*{Prime counting}

This approximates the number of prime numbers less than or equal to $n$. The percent error slowly converges to $1\%$, with about an $8\%$ error rate at $n=10^6$.
$$\pi(n) \approx \frac{x}{ln(x)}$$

\subsection*{Pythagorean triple}

A Pythagorean Triple is 3 numbers, a, b, c, such that $a^2 + b^2 = c^2$. For all Pythagorean Triples, there exist positive integers x and y, with x $>$ y, such that:
$$a = x^2 - y^2 \formsep b = 2xy \formsep c = x^2 + y^2$$

\subsection*{Regular polygons}

A regular $n$-gon with side length $s$.

$$Area = \frac{1}{4}ns^2 \cot \Big(\frac{\pi}{n} \Big) = cs^2 \text{, where } c \text{ is some constant}$$
$$\text{Internal angle} = (n-2) \frac{180^\circ}{n}$$
$$\text{Inscribed circle diameter} = s \cot \Big( \frac{\pi}{n} \Big)$$
$$\text{Circumscribed circle diameter} = s \csc \Big( \frac{\pi}{n} \Big)$$

\subsection*{Subsets}

\textbf{Subsets of size $k$}

Runtime: O($\binom{n}{k}$)

Uses Gosper's hack to quickly generate all the subsets of size $k$ in ascending order.

\lstinputlisting{math/code/misc_subsets1.java}

\textbf{Subsets of sizes $\leq k$}

Runtime: O($\sum_{i=0}^k \binom{n}{i}$)

\lstinputlisting{math/code/misc_subsets2.java}


\newpage